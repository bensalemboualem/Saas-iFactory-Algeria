# ===================================
# iafactory AI Tools - Configuration
# ===================================

# Application
APP_NAME="iafactory AI Tools"
APP_VERSION="1.0.0"
ENVIRONMENT="development"  # development, staging, production

# Server
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8001
FRONTEND_PORT=3001

# CORS
ALLOWED_ORIGINS="http://localhost:3110,http://localhost:3001,https://helvetia.iafactory.ch,https://rag-dz.com"

# Database
DATABASE_URL="postgresql://user:password@localhost:5435/iafactory_aitools"
REDIS_URL="redis://localhost:6382/0"

# ===================================
# AI Provider API Keys
# ===================================

# OpenAI (Text Generation, Image Generation, Speech-to-Text)
OPENAI_API_KEY="sk-VOTRE-CLE-ICI..."
OPENAI_ORG_ID=""  # Optional

# Anthropic Claude (Text Generation)
ANTHROPIC_API_KEY="sk-VOTRE-CLE-ICI..."

# Stability AI (Image Generation)
STABILITY_API_KEY="sk-..."

# Replicate (Image Upscaling, Transformations)
REPLICATE_API_TOKEN="r8_..."

# DeepL (Translation - Alternative gratuite: libre-translate)
DEEPL_API_KEY=""  # Optional - fallback to OpenAI

# ===================================
# Storage Configuration
# ===================================

# S3 Compatible Storage (Scaleway, MinIO, AWS S3)
S3_ENDPOINT_URL="https://s3.fr-par.scw.cloud"
S3_ACCESS_KEY_ID="your-access-key"
S3_SECRET_ACCESS_KEY="your-secret-key"
S3_BUCKET_NAME="iafactory-ai-outputs"
S3_REGION="fr-par"

# Local Storage (Development)
LOCAL_STORAGE_PATH="/tmp/iafactory-uploads"

# ===================================
# Rate Limiting
# ===================================

# Requests per minute per user
RATE_LIMIT_TRANSLATOR=60
RATE_LIMIT_SPEECH_TO_TEXT=10
RATE_LIMIT_TEXT_GENERATOR=30
RATE_LIMIT_IMAGE_GENERATOR=20
RATE_LIMIT_BACKGROUND_REMOVER=30
RATE_LIMIT_IMAGE_UPSCALER=20
RATE_LIMIT_IMAGE_TRANSFORMER=20

# ===================================
# File Upload Limits
# ===================================

MAX_FILE_SIZE_MB=50
ALLOWED_AUDIO_FORMATS="mp3,wav,m4a,flac,ogg"
ALLOWED_IMAGE_FORMATS="jpg,jpeg,png,webp,gif"

# ===================================
# Model Configuration
# ===================================

# Text Generation
DEFAULT_TEXT_MODEL="gpt-4o-mini"  # gpt-4o, gpt-4o-mini, claude-sonnet-4
MAX_TOKENS_TEXT=4000

# Translation
DEFAULT_TRANSLATION_MODEL="gpt-4o-mini"
SUPPORTED_LANGUAGES="fr,ar,en,es,de,it"

# Speech to Text
WHISPER_MODEL="whisper-1"  # whisper-1 (OpenAI) or local

# Image Generation
DEFAULT_IMAGE_MODEL="dall-e-3"  # dall-e-3, stable-diffusion-xl
IMAGE_SIZE="1024x1024"  # 1024x1024, 512x512, 256x256

# ===================================
# Cache Configuration
# ===================================

CACHE_TTL_TRANSLATION=3600  # 1 hour
CACHE_TTL_TEXT_GENERATION=1800  # 30 minutes
ENABLE_CACHE=true

# ===================================
# Monitoring & Logging
# ===================================

LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR
SENTRY_DSN=""  # Optional

# ===================================
# Multi-tenancy (rag-dz vs Helvetia)
# ===================================

TENANT_RAG_DZ_ID="rag-dz"
TENANT_HELVETIA_ID="helvetia"

# Separate storage paths per tenant
TENANT_STORAGE_ENABLED=true

# ===================================
# Feature Flags
# ===================================

ENABLE_TRANSLATOR=true
ENABLE_SPEECH_TO_TEXT=true
ENABLE_TEXT_GENERATOR=true
ENABLE_IMAGE_GENERATOR=true
ENABLE_BACKGROUND_REMOVER=true
ENABLE_IMAGE_UPSCALER=true
ENABLE_IMAGE_TRANSFORMER=true

# Use local models instead of APIs (cost saving)
USE_LOCAL_WHISPER=false
USE_LOCAL_STABLE_DIFFUSION=false
USE_LOCAL_REMBG=true  # Background removal - gratuit

# ===================================
# JWT & Security
# ===================================

JWT_SECRET_KEY="your-super-secret-jwt-key-change-me"
JWT_ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30
